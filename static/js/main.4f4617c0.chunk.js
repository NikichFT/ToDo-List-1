(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{32:function(e,t,o){"use strict";o.r(t);var c=o(1),a=o(0),n=o.n(a),l=o(9),i=o.n(l),s=o(5),r=o(15),d=o(4),u=o(3),m="POST/CREATE_POST",p="POST/COMPLETE_POST",j="POST/OVERDUE_POST",b="APP/SHOW_ALERT",O="APP/HIDE_ALERT";function f(e){return function(t){console.log(e),t({type:m,title:e.title,id:e.id,date:e.date,completed:e.completed,timeToComplete:e.timeToComplete,overdue:e.overdue,changed:e.changed}),e.timeToComplete>0?setTimeout((function(){t(g(e.id,e.date,e.changed))}),e.timeToComplete):setTimeout((function(){t(g(e.id,e.date,e.changed))}),0)}}function g(e,t,o){return{type:j,id:e,date:t,changed:o}}var v=o(2),h={completeTask:function(e){return{type:p,id:e}},overdueTask:g,createPost:f},x=Object(u.b)((function(e){return{syncPosts:e.posts.posts,id:e.posts.id}}),h)((function(e){var t,o=e.post,n=e.completeTask,l=e.completed,i=e.overdue,s=(e.changeTask,e.createPost),r=e.timeToComplete,u=function(e){var t=new Date;if(e){var o=t.getFullYear(),c=t.getMonth()+1,a=t.getDate(),n=t.toString().split(" ")[4].split(":")[0],l=t.toString().split(" ")[4].split(":")[1],i=t.toString().split(" ")[4].split(":")[2],s=Date.parse("".concat(e.split("T")[0].split("-").join(".")," ").concat(e.split("T")[1]))-Date.parse("".concat(o,".").concat(c,".").concat(a," ").concat(n,":").concat(l,":").concat(i));return s||null}},m=Object(a.useState)({title:o.title,id:o.id,date:o.date,completed:o.overdue,overdue:o.overdue,timeToComplete:o.timeToComplete}),p=Object(d.a)(m,2),j=p[0],b=p[1];Object(a.useEffect)((function(){f()}),[]),Object(a.useEffect)((function(){O(),b(o)}),[o]),Object(a.useEffect)((function(){O(),b(j)}),[j]);var O=function(){localStorage.setItem("todos",JSON.stringify(j))},f=function(){if(null===localStorage.getItem("todos"))localStorage.setItem("todos",JSON.stringify([]));else if(0==o.length){var e=JSON.parse(localStorage.getItem("todos"));b(e),s(e)}};return Object(c.jsxs)("div",{className:"card ".concat(l?"bg-success text-white":"bg-light text-dark"," mb-3"),children:[Object(c.jsxs)("div",{className:"card-body ".concat(i&&o.date?"bg-danger":""),style:{textDecoration:l?"line-through":"none"},children:[Object(c.jsx)("input",{type:"text",defaultValue:o.title,name:"title",onBlur:function(e){!function(e){var t,c;e.persist(),s((t={},Object(v.a)(t,e.target.name,e.target.value),Object(v.a)(t,"id",o.id),Object(v.a)(t,"date",j.date),Object(v.a)(t,"completed",o.completed),Object(v.a)(t,"overdue",j.overdue),Object(v.a)(t,"timeToComplete",r),Object(v.a)(t,"changed",!0),t)),b((c={},Object(v.a)(c,e.target.name,e.target.value),Object(v.a)(c,"id",o.id),Object(v.a)(c,"date",j.date),Object(v.a)(c,"completed",o.completed),Object(v.a)(c,"overdue",j.overdue),Object(v.a)(c,"timeToComplete",r),Object(v.a)(c,"changed",!0),c))}(e)},className:"form-control card-header"}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("div",{className:"card-text",children:"complete before: "}),Object(c.jsx)("div",{className:"col-10",children:Object(c.jsx)("input",(t={className:"form-control",defaultValue:o.date?o.date.split("T").join(" "):o.date,type:"datetime-local"},Object(v.a)(t,"defaultValue",o.date),Object(v.a)(t,"name","date"),Object(v.a)(t,"onBlur",(function(e){!function(e){var t,c;e.persist(),s((t={title:j.title,id:o.id},Object(v.a)(t,e.target.name,e.target.value),Object(v.a)(t,"completed",o.completed),Object(v.a)(t,"overdue",j.overdue),Object(v.a)(t,"timeToComplete",u(e.target.value)),Object(v.a)(t,"changed",!0),t)),b((c={title:j.title,id:o.id},Object(v.a)(c,e.target.name,e.target.value),Object(v.a)(c,"completed",o.completed),Object(v.a)(c,"overdue",j.overdue),Object(v.a)(c,"timeToComplete",u(e.target.value)),Object(v.a)(c,"changed",!0),c))}(e)})),Object(v.a)(t,"id","datetime-local-input"),t))})]})]}),Object(c.jsx)("div",{className:"input-group-text",style:{display:"".concat(i&&o.date?"none":"inline-block")},children:Object(c.jsx)("input",{className:"form-check-input btn-outline-info",onClick:function(){n(o.id)},type:"checkbox",defaultChecked:!!l,value:"","aria-label":"Checkbox for following text input"})}),l&&Object(c.jsx)("button",{name:"completed",value:"false",onClick:function(e){return function(e){e.persist(),s({title:j.title,id:Date.now().toString(),completed:!o.completed,overdue:!1}),b({title:j.title,id:Date.now().toString(),date:j.date,completed:!o.completed,overdue:!1})}(e)},type:"button",className:"btn btn-primary",children:"Copy"})]})})),S={createPost:f},T=Object(u.b)((function(e){return{syncPosts:e.posts}}),S)((function(e){var t=e.syncPosts,o=Object(a.useState)(t),n=Object(d.a)(o,2),l=n[0],i=n[1];Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){s(),i(t)}),[t]),Object(a.useEffect)((function(){s(),i(l)}),[l]);var s=function(){localStorage.setItem("todos",JSON.stringify(l))},r=function(){if(null===localStorage.getItem("todos"))localStorage.setItem("todos",JSON.stringify([]));else if(0==t.length){var e=JSON.parse(localStorage.getItem("todos"));i(e)}};return 0!=t.length&&l?l.map((function(e){return e.completed&&Object(c.jsx)(x,{post:e,overdue:e.overdue,completed:e.completed,timeToComplete:e.timeToComplete},e.id)})):"No tasks yet"})),y=o(6),N=o(17),C=o(18),E=o(20),k=o(19),P=function(e){var t=e.text;return Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})},I=function(e){Object(E.a)(o,e);var t=Object(k.a)(o);function o(){var e;Object(N.a)(this,o);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={title:"",date:void 0,completed:!1,overdue:!1},e.submitHandler=function(t){if(t.preventDefault(),!e.state.title.trim())return e.props.showAlert("You are trying to create an empty task");var o=new Date,c={title:e.state.title,id:Date.now().toString(),date:e.state.date,completed:!1,overdue:!1,timeToComplete:function(e){if(e){var t=o.getFullYear(),c=o.getMonth()+1,a=o.getDate(),n=o.toString().split(" ")[4].split(":")[0],l=o.toString().split(" ")[4].split(":")[1],i=o.toString().split(" ")[4].split(":")[2],s=Date.parse("".concat(e.split("T")[0].split("-").join(".")," ").concat(e.split("T")[1]))-Date.parse("".concat(t,".").concat(c,".").concat(a," ").concat(n,":").concat(l,":").concat(i));return s||null}}(e.state.date)};e.props.createPost(c),e.setState({title:""})},e.changeInputHandler=function(t){t.persist(),e.setState((function(e){return Object(y.a)(Object(y.a)({},e),Object(v.a)({},t.target.name,t.target.value))}))},e}return Object(C.a)(o,[{key:"render",value:function(){return Object(c.jsxs)("form",{onSubmit:this.submitHandler,children:[this.props.alert&&Object(c.jsx)(P,{text:this.props.alert}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"title",children:"Task Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"title",value:this.state.title,name:"title",onChange:this.changeInputHandler}),Object(c.jsx)("label",{htmlFor:"datetime-local-input",className:"col-form-label",children:"Date and time"}),Object(c.jsx)("div",{className:"col-10",children:Object(c.jsx)("input",{className:"form-control",onChange:this.changeInputHandler,type:"datetime-local",value:this.state.date,name:"date",id:"datetime-local-input"})})]}),Object(c.jsx)("button",{className:"btn btn-success",type:"submit",children:"Add"})]})}}]),o}(n.a.Component),w={createPost:f,showAlert:function(e){return function(t){t({type:b,payload:e}),setTimeout((function(){t({type:O})}),3e3)}}},D=Object(u.b)((function(e){return{todos:e.posts.posts,alert:e.app.alert}}),w)(I),_={createPost:f},J=Object(u.b)((function(e){return{syncPosts:e.posts}}),_)((function(e){var t=e.syncPosts,o=Object(a.useState)(t),n=Object(d.a)(o,2),l=n[0],i=n[1];Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){s(),i(t)}),[t]),Object(a.useEffect)((function(){s(),i(l)}),[l]);var s=function(){localStorage.setItem("todos",JSON.stringify(l))},r=function(){if(null===localStorage.getItem("todos"))localStorage.setItem("todos",JSON.stringify([]));else if(0==t.length){var e=JSON.parse(localStorage.getItem("todos"));i(e)}};return 0!=t.length&&l?l.map((function(e){return!e.completed&&Object(c.jsx)(x,{post:e,overdue:e.overdue,completed:e.completed,timeToComplete:e.timeToComplete},e.id)})):"No tasks yet"})),A=o(7),H={createPost:f},F=Object(u.b)((function(e){return{syncPosts:Object(A.a)(e.posts.sort((function(e,t){if(!e.overdue||!t.overdue)return e.timeToComplete-t.timeToComplete})))}}),H)((function(e){var t=e.syncPosts,o=Object(a.useState)(t),n=Object(d.a)(o,2),l=n[0],i=n[1];Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){s(),i(t)}),[t]),Object(a.useEffect)((function(){s(),i(l)}),[l]);var s=function(){localStorage.setItem("todos",JSON.stringify(l))},r=function(){if(null===localStorage.getItem("todos"))localStorage.setItem("todos",JSON.stringify([]));else if(0==t.length){var e=JSON.parse(localStorage.getItem("todos"));i(e),f(e)}},u=new Date,m=[u.getFullYear(),u.getMonth()+1,u.getDate()].map((function(e){return e>0&&e<10?"0"+e:e}));return 0!=t.length&&l?l.map((function(e){return e.date?e.date.split("T")[0]==m.join("-")&&!e.completed&&Object(c.jsx)(x,{post:e,overdue:e.overdue,completed:e.completed,timeToComplete:e.timeToComplete},e.id):!e.completed&&Object(c.jsx)(x,{post:e,overdue:e.overdue,completed:e.completed,timeToComplete:e.timeToComplete},e.id)})):"No tasks yet"})),R=function(){return Object(c.jsx)("div",{className:"container pt-3",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col text-white bg-secondary",children:[Object(c.jsxs)("div",{className:"col",style:{paddingBottom:"10%"},children:[Object(c.jsx)("h2",{className:"card-header",children:"Tasks for today"}),Object(c.jsx)(D,{})]}),Object(c.jsx)(F,{})]}),Object(c.jsxs)("div",{className:"col text-dark bg-warning",children:[Object(c.jsx)("h2",{className:"card-header",children:"Unfinished tasks"}),Object(c.jsx)("div",{className:"col",style:{paddingBottom:"10%"},children:Object(c.jsx)(D,{})}),Object(c.jsx)(J,{})]}),Object(c.jsxs)("div",{className:"col text-dark bg-info",children:[Object(c.jsx)("h2",{className:"card-header",children:"Finished tasks"}),Object(c.jsx)(T,{})]})]})})},V={alert:null},B=[],L=Object(s.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,o=t.type,c=t.title,a=t.id,n=t.date,l=t.completed,i=t.overdue,s=t.changed,r=t.timeToComplete;switch(o){case m:return s?Object(A.a)(e).map((function(e){return e.id!==a||e.completed||(e.title=c,e.id=a,e.date=n,e.completed=l,e.timeToComplete=r,e.overdue=i),e})):[].concat(Object(A.a)(e),[{title:c,id:a,date:n,completed:l,timeToComplete:r,overdue:i}]);case p:return Object(A.a)(e).map((function(e){return e.id===a&&(e.completed=!e.completed),e}));case j:return Object(A.a)(e).map((function(e){return e.id===a&&!e.completed&&e.date&&e.date===n?(e.overdue=!0,e.completed=null):e.changed&&(e.overdue=!1),e}));default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(y.a)(Object(y.a)({},e),{},{alert:t.payload});case O:return Object(y.a)(Object(y.a)({},e),{},{alert:null});default:return e}}}),M=Object(s.e)(L,Object(s.d)(Object(s.a)(r.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),U=Object(c.jsx)(u.a,{store:M,children:Object(c.jsx)(R,{})});i.a.render(U,document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.4f4617c0.chunk.js.map